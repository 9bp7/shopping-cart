[{"/Users/billyplant/Documents/the_odin_project/shopping-cart/src/index.js":"1","/Users/billyplant/Documents/the_odin_project/shopping-cart/src/components/App.js":"2","/Users/billyplant/Documents/the_odin_project/shopping-cart/src/components/Nav.js":"3","/Users/billyplant/Documents/the_odin_project/shopping-cart/src/components/Home.js":"4","/Users/billyplant/Documents/the_odin_project/shopping-cart/src/components/Shop.js":"5","/Users/billyplant/Documents/the_odin_project/shopping-cart/src/components/Cart.js":"6","/Users/billyplant/Documents/the_odin_project/shopping-cart/src/components/ProductDetail.js":"7","/Users/billyplant/Documents/the_odin_project/shopping-cart/src/components/ProductsData.js":"8","/Users/billyplant/Documents/the_odin_project/shopping-cart/src/components/ProductCard.js":"9"},{"size":207,"mtime":1610536409459,"results":"10","hashOfConfig":"11"},{"size":1247,"mtime":1610541630344,"results":"12","hashOfConfig":"11"},{"size":417,"mtime":1610536409445,"results":"13","hashOfConfig":"11"},{"size":515,"mtime":1610545979904,"results":"14","hashOfConfig":"11"},{"size":532,"mtime":1610536409455,"results":"15","hashOfConfig":"11"},{"size":2998,"mtime":1610550523646,"results":"16","hashOfConfig":"11"},{"size":1055,"mtime":1610550031042,"results":"17","hashOfConfig":"11"},{"size":1604,"mtime":1610545192186,"results":"18","hashOfConfig":"11"},{"size":361,"mtime":1610541019743,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"14fonit",{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"22"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"/Users/billyplant/Documents/the_odin_project/shopping-cart/src/index.js",[],["40","41"],"/Users/billyplant/Documents/the_odin_project/shopping-cart/src/components/App.js",[],"/Users/billyplant/Documents/the_odin_project/shopping-cart/src/components/Nav.js",[],"/Users/billyplant/Documents/the_odin_project/shopping-cart/src/components/Home.js",[],"/Users/billyplant/Documents/the_odin_project/shopping-cart/src/components/Shop.js",[],"/Users/billyplant/Documents/the_odin_project/shopping-cart/src/components/Cart.js",["42","43","44"],"import React, { useEffect, useState } from 'react';\nimport getProductArray from './ProductsData';\nimport {Link} from 'react-router-dom';\n\nfunction Cart(props) {\n  let allProducts = getProductArray();\n  let [cartTotal, setCartTotal] = useState(0);\n\n  const numberWithCommas = (x) => {\n    return x.toString().replace(/\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))/g, \",\");\n  }\n\n  const initCart = () => {\n    setCartTotal(0);\n    allProducts.forEach(product => {\n      product.quantity = 0;\n    })\n  }\n\n  const condenseCart = () => {\n    let cartItems = props.cart;\n    let totalPrice = 0;\n\n    cartItems.forEach(cartItem => {\n      allProducts.filter((product, index) => {\n        if(product.title === cartItem.title) {\n          product.quantity += 1;\n          totalPrice += (+product.price.split(',').join(''));          \n        }\n      })\n    });\n\n    setCartTotal(totalPrice);\n  }\n\n  const addToCart = (item) => {\n    props.addToCart(item);\n  }\n\n  const removeFromCart = (item) => {\n    props.removeFromCart(item);\n  }\n\n  useEffect(() => {\n    initCart();\n    condenseCart();\n  }, [props.cart])\n\n  useEffect(() => {\n    initCart();\n    condenseCart();\n    return(\n      allProducts = getProductArray()\n    )\n  }, [])\n\n  if(cartTotal > 0) {\n    return (\n      <div className=\"wrap\">      \n        <div className=\"shop cart\">\n          <Link to=\"/shop\"><p class=\"back\">‹ Back to shop</p></Link>\n          <h1 style={{textAlign: 'left'}}>Your Basket</h1>\n          <table> \n            { allProducts.map(item => (\n              item.quantity > 0 \n              ? <tr>\n                  <th><img src={process.env.PUBLIC_URL + item.src} alt='' /></th>\n                  <th>{item.title}</th>\n                  <th><span className=\"btn-basket\" onClick={() => removeFromCart(item)}>−</span> {item.quantity} <span className=\"btn-basket\" onClick={() => addToCart(item)}>＋</span></th>\n                  <th>{numberWithCommas((+item.price.split(',').join('')) * item.quantity)} GBP</th>\n                </tr>\n              : null\n            )) }\n            <tr>\n              <th></th>\n              <th></th>\n              <th>Grand Total</th>\n              <th>{numberWithCommas(cartTotal)} GBP</th>\n            </tr>\n            <tr>\n              <th></th>\n              <th></th>\n              <th></th>\n              <th><button onClick={() => {\n                alert(`Please press OK or Enter to process your payment of \\n\\n\\t${numberWithCommas(cartTotal)} GBP\\n\\nPlease note that we do not offer refunds.`);\n                setTimeout(() => {\n                  alert('Payment declined: Insufficent funds.');\n                }, 1000)\n              }}>Race to payment &raquo;</button>  </th>\n            </tr>          \n          </table>   \n        </div>\n      </div>\n    );\n  } else {\n    return(\n      <div className=\"wrap shop product-detail\">      \n        <Link to=\"/shop\"><p class=\"back\">‹ Back to shop</p></Link>\n        <h1>Cart is empty</h1>\n      </div>\n    )\n  }  \n}\n\nexport default Cart;\n","/Users/billyplant/Documents/the_odin_project/shopping-cart/src/components/ProductDetail.js",[],"/Users/billyplant/Documents/the_odin_project/shopping-cart/src/components/ProductsData.js",[],"/Users/billyplant/Documents/the_odin_project/shopping-cart/src/components/ProductCard.js",[],{"ruleId":"45","replacedBy":"46"},{"ruleId":"47","replacedBy":"48"},{"ruleId":"49","severity":1,"message":"50","line":25,"column":43,"nodeType":"51","messageId":"52","endLine":25,"endColumn":45},{"ruleId":"53","severity":1,"message":"54","line":47,"column":6,"nodeType":"55","endLine":47,"endColumn":18,"suggestions":"56"},{"ruleId":"53","severity":1,"message":"57","line":53,"column":21,"nodeType":"58","endLine":53,"endColumn":38},"no-native-reassign",["59"],"no-negated-in-lhs",["60"],"array-callback-return","Array.prototype.filter() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'condenseCart' and 'initCart'. Either include them or remove the dependency array.","ArrayExpression",["61"],"Assignments to the 'allProducts' variable from inside React Hook useEffect will be lost after each render. To preserve the value over time, store it in a useRef Hook and keep the mutable value in the '.current' property. Otherwise, you can move this variable directly inside useEffect.","CallExpression","no-global-assign","no-unsafe-negation",{"desc":"62","fix":"63"},"Update the dependencies array to be: [condenseCart, initCart, props.cart]",{"range":"64","text":"65"},[1072,1084],"[condenseCart, initCart, props.cart]"]